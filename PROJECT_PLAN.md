# Finpalette 프로젝트 개발 계획서

## 1. 프로젝트 목표 (Mission)

- **핵심 목표:** 사용자가 자신의 수입과 지출을 '팔레트의 색을 고르듯' 쉽고 직관적으로 분류하고, 한눈에 파악할 수 있는 가계부 웹앱을 제공한다.
- **차별점:**
  - **직관적인 카테고리화:** 'Palette' 컨셉을 살려 사용자가 직접 카테고리별 색상을 지정하고 시각적으로 지출 내역을 인지할 수 있도록 한다.
  - **단순함:** 복잡한 재무 분석보다는, 매일의 소비를 기록하고 월별 흐름을 파악하는 데 집중한다.
  - **모바일 중심 경험:** 스마트폰에서 언제 어디서든 쉽고 빠르게 내역을 기록하고 확인할 수 있는 모바일 우선(Mobile-First) 인터페이스를 제공한다.

  ***

## 2. 기술 스택 및 아키텍처

- **Frontend:** **React (with Vite)**
  - 역할: 사용자 인터페이스(UI) 전체를 구축합니다.
  - **아이콘 시스템**: 모든 아이콘은 SVG를 기반으로 사용하여 확장성과 스타일 일관성을 확보합니다.
- **Database:** **Supabase**
  - 역할: 모든 사용자 데이터(가계부 내역, 카테고리, 사용자 정보 등)를 저장하고 관리합니다.
  - 주요 활용 기능: Database, Authentication, Row Level Security (RLS)
- **Hosting & CI/CD:** **Firebase Hosting & GitHub Actions**
  - 역할: 개발된 웹앱을 배포하고, GitHub과 연동하여 자동 배포 파이프라인을 구축합니다.
- **IDE:** **IntelliJ**
- **Version Control:** **GitHub**

  ***

## 3. 데이터베이스 설계 (Supabase)

> **v2 설계 (공유 기능 포함)**: 모든 데이터는 `user_id`가 아닌 `palette_id`에 종속됩니다.

### 3.1. `palettes` (공유 공간) 테이블

| 컬럼명     | 타입   | 설명                                    |
| ---------- | ------ | --------------------------------------- |
| `id`       | `uuid` | 팔레트 고유 식별자 (PK)                 |
| `name`     | `text` | 팔레트 이름 (예: "우리 가족 가계부")    |
| `owner_id` | `uuid` | 팔레트 소유자 ID (`auth.users.id` 참조) |

### 3.2. `palette_members` (팔레트 멤버) 테이블

| 컬럼명       | 타입   | 설명                                 |
| ------------ | ------ | ------------------------------------ |
| `palette_id` | `uuid` | 팔레트 ID (FK, `palettes.id` 참조)   |
| `user_id`    | `uuid` | 사용자 ID (FK, `auth.users.id` 참조) |
| `role`       | `text` | 역할 (예: 'owner', 'member')         |

### 3.1. `transactions` (거래 내역) 테이블

| 컬럼명        | 타입          | 설명                      | 비고                 |
| ------------- | ------------- | ------------------------- | -------------------- |
| `id`          | `uuid`        | 고유 식별자 (Primary Key) | `uuid_generate_v4()` |
| `palette_id`  | `uuid`        | 팔레트 ID (Foreign Key)   | `palettes.id` 참조   |
| `created_at`  | `timestamptz` | 생성 시각                 | `now()`              |
| `date`        | `date`        | 실제 거래 날짜            |                      |
| `type`        | `text`        | '수입' 또는 '지출'        |                      |
| `amount`      | `integer`     | 금액                      |                      |
| `category_id` | `uuid`        | 카테고리 ID (Foreign Key) | `categories.id` 참조 |
| `description` | `text`        | 거래 내용 메모            |                      |

### 3.2. `categories` (카테고리) 테이블

| 컬럼명       | 타입   | 설명                      | 비고                 |
| ------------ | ------ | ------------------------- | -------------------- |
| `id`         | `uuid` | 고유 식별자 (Primary Key) | `uuid_generate_v4()` |
| `palette_id` | `uuid` | 팔레트 ID (Foreign Key)   | `palettes.id` 참조   |
| `name`       | `text` | 카테고리 이름             |                      |
| `color_code` | `text` | 카테고리 대표 색상        | 예: `#FFD700`        |

> **⚠️ 중요:** 모든 테이블에 **Row Level Security (RLS)**를 활성화하여, 사용자는 자신의 데이터만 접근할 수 있도록 정책을 설정해야 합니다.

---

## 4. 개발 로드맵 (단계별 기능 구현)

### Phase 1: MVP (Minimum Viable Product) - 핵심 기능 구현

- **목표:** 로그인 없이도 즉시 사용할 수 있는 핵심 가계부 기능 완성
- **세부 작업:**
  1. **로컬 스토리지 기반 데이터 관리 기능 구현 (Guest Mode)**: 로그인하지 않은 사용자의 데이터를 브라우저(Local Storage)에 저장하고 관리합니다.
  2. **✅ 기본 레이아웃 구현**: 앱 전체의 헤더, 하단 탭 네비게이션, 플로팅 액션 버튼 등 기본 구조를 구현했습니다.
  3. **✅ 대시보드 페이지 구현 (v1: 목업 데이터 기반)**:
     - **월별 요약 카드**: 총수입, 총지출, 합계를 표시합니다. (`SummaryCard`)
     - **카테고리별 지출 현황**: 카테고리별 지출 목록을 표시합니다. (`CategorySection`)
     - **최근 거래 내역**: 날짜별로 그룹화된 거래 내역 목록을 표시합니다. (`TransactionSection`)
     - **리팩토링 완료**:
       - 공통 레이아웃(Header, BottomNav) 적용 및 표준화 완료.
       - 테마 전환 기능 `Header` 컴포넌트로 캡슐화 및 로컬 스토리지 연동.
  4. **빠른 내역 추가 기능**: 화면에 항상 떠 있는 '+' 버튼(FAB)과 내역 입력 폼을 구현합니다. (Create)
  5. **선택적 회원가입 및 데이터 동기화**:
     - Supabase Auth를 이용한 회원가입/로그인 기능을 구현합니다.
     - 회원가입 시, 로컬 스토리지에 있던 데이터를 Supabase DB로 이전(migration)하는 기능을 구현합니다.

### Phase 2: 고도화 - 'Palette' 컨셉 강화 및 시각화

- **목표:** Finpalette만의 차별점을 부각하고 사용자 경험 향상
- **세부 작업:**
  1. 사용자 정의 카테고리 (색상 지정 포함) CRUD 기능 구현
  2. 카테고리별 지출 비율 원형 차트 시각화
  3. 월별/일별 소비 패턴을 보여주는 막대그래프 시각화

### Phase 3: 확장 - 편의 기능 추가

- **목표:** 사용자를 위한 편의 기능 추가 및 완성도 향상
- **세부 작업:**
  1. 내용/카테고리 기반 거래 내역 검색 기능
  2. 반복 내역(고정 지출/수입) 자동 등록 기능
  3. **공유 가계부(팔레트) 기능**:
     - 여러 사용자가 함께 사용하는 '팔레트' 생성 및 초대 기능
     - 팔레트 간 전환 UI 구현
  4. **PWA(Progressive Web App) 적용**: 홈 화면에 앱 설치, 오프라인 지원 등 네이티브 앱 경험 강화
  5. 데스크탑 화면 최적화
